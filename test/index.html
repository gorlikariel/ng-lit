<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
<script src="../node_modules/@webcomponents/webcomponentsjs/webcomponents-loader.js"></script>
<script type="module">
    import {LitElement, html} from "lit-element";
    import {NgLit} from "../index.js";

    class NgLitElement extends NgLit(LitElement) {
        static get properties() {
            return {
                user: {fromNg: true},
            };
        }

        render() {
            const {
              user = {}
            } = this;

            return html`
                <h2>Lit Name: ${user.firstName + " " + user.lastName}</h2>
            `;
        }
    }
    customElements.define('nglit-element', NgLitElement);

    class NgLitListElement extends NgLit(LitElement) {
        static get properties() {
            return {
                items: {fromNg: true},
            };
        }

        render() {
            const {
                items = []
            } = this;

            return html`
                <div>
                    <h2>Lit Items</h2>
                    ${items.map(item=> {
                        return html`<div>${item}</div>`
                     })}
                </div>
            `;
        }
    }

    customElements.define('nglit-lits-element', NgLitListElement);
</script>
<div ng-app="myApp" ng-controller="myCtrl">

    <panel>
        <h2>tans cluded user</h2>
        <nglit-element user="ngUser"></nglit-element>
    </panel>


    <h2>normal ngUser:</h2>
    <nglit-element user="ngUser"></nglit-element>

    <h2>list of ngUser.items:</h2>
    <nglit-lits-element items="ngUser.items"></nglit-lits-element>

    <h2>ng-repeat ngUser:</h2>
    <div>
        <div ng-repeat="user in ngUsers">
            <nglit-element user="user"></nglit-element>
        </div>
    </div>

    Ng Name: {{ngUser.firstName + " " + ngUser.lastName}}

</div>

<script>
    const app = angular.module('myApp', []);
    app.controller('myCtrl', function($scope) {
        $scope.ngUser = {
            firstName: "John",
            lastName: "Doe",
            items: ['macbook', 'dog', 'lit']
        };
        $scope.ngUsers = [{
            firstName: "ngName1.1",
            lastName: "ngName1.2",
        }, {
            firstName: "ngName2.1",
            lastName: "ngName2.1",
        }]

    });
    app.directive('panel', function () {
        return {
            restrict: 'E',
            transclude: true,
            template: '<div><div ng-transclude></div></div>'
        };
    });
</script>


